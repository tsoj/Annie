import types

const zobristSideToMoveBitmasks*: array[white..black, uint64] = [18135279880233034376'u64, 1131218582810799482'u64]

const zobristPieceBitmasks*: array[white..black, array[pawn..king, array[a1..h8, uint64]]] = [[[11434306290927344784'u64, 13459774817681650961'u64, 15481109672442021666'u64, 11252341337700188725'u64, 17567264022776030569'u64, 3046570937840884311'u64, 9266586653090742756'u64, 16716625890893447539'u64, 13140656841369104811'u64, 16889736389043663385'u64, 3746512139805444087'u64, 2963378467955026480'u64, 3489618073499857454'u64, 2745962291797344231'u64, 10186970158772727215'u64, 13746418562903266610'u64, 8374583553411572331'u64, 14571128607191709255'u64, 12914481187776333086'u64, 17484296621113619872'u64, 13657206471183770210'u64, 15948636030870758308'u64, 14822221428384423430'u64, 1464473988291168861'u64, 17767906538488717371'u64, 16538544119369426105'u64, 4085019702247298236'u64, 1898883147281465981'u64, 10648798900950849296'u64, 16437897934932872917'u64, 8608435718133321713'u64, 18291191097768058843'u64, 14909781858311911951'u64, 6529398458406834663'u64, 670384953170379237'u64, 1793716865637552611'u64, 4134527259861242275'u64, 6127871784413338105'u64, 14728689300067090725'u64, 8037202800418262487'u64, 13156481413689482418'u64, 15987437931605424835'u64, 10749639016286620588'u64, 980054208597677301'u64, 307203343136582431'u64, 12756243039764320826'u64, 12534291014260628189'u64, 5911587417186578752'u64, 6168030440756382795'u64, 15462619843698783022'u64, 6165142025746281771'u64, 6652084058076210190'u64, 1734072335431094825'u64, 13226753143442866322'u64, 15951016958890573283'u64, 12985697799705577450'u64, 9736285188529396819'u64, 10023506503313003538'u64, 12926230196839021331'u64, 8901911081457160784'u64, 13582500849447221725'u64, 14235715999893187152'u64, 17446600681523265506'u64, 11149790263527616565'u64], [16439627032354860943'u64, 9237672978658382409'u64, 15156636861498451269'u64, 4861972519215003616'u64, 2282228176277031351'u64, 13211316749067001860'u64, 10376974271723404737'u64, 9293122450120571235'u64, 4209440526882440516'u64, 7855096421683329084'u64, 4015088309958297538'u64, 16377211852803362814'u64, 4603892729679013171'u64, 1047446426716995674'u64, 12922182159950752257'u64, 17570733877901896052'u64, 12644243463412011764'u64, 432526725187591805'u64, 15090961572689635000'u64, 2498820600500924515'u64, 11758416948099338753'u64, 12109075201401635046'u64, 8332135391671111018'u64, 1891527674484029531'u64, 12498154977843365575'u64, 7958024014870425670'u64, 10395520733447811435'u64, 10562523821134709972'u64, 1881808857826191977'u64, 11266172936360453222'u64, 7316279751217946884'u64, 14820784926122555270'u64, 18371019092979793960'u64, 14083438091656329840'u64, 16612729312138854738'u64, 12022990659167540423'u64, 3363307262857231411'u64, 1135832219525919951'u64, 12343183405738510958'u64, 4060717018343435681'u64, 11094237303733188391'u64, 16754306087747623483'u64, 5677062408926013067'u64, 9116900429661653798'u64, 12124795739543229761'u64, 7983227702805099749'u64, 2176772128500078194'u64, 6142045265667191212'u64, 9766140501157836547'u64, 327878560045146830'u64, 2557612724949049987'u64, 12508533342231319895'u64, 5229335877805926597'u64, 12370025355740371800'u64, 9238329346577676289'u64, 659543370808361983'u64, 3826919926936128474'u64, 8109861535409105394'u64, 7977602737480339103'u64, 14635471891019054067'u64, 5043203735805285557'u64, 9525418910117252402'u64, 17879628997542248492'u64, 5076531948077645277'u64], [11190346020688619688'u64, 8021963886800131041'u64, 14674309223688961343'u64, 12658268630298509741'u64, 1799632273343154231'u64, 3841408289489006023'u64, 9097893437432242864'u64, 15502655545251426969'u64, 10185131615168756063'u64, 742562235525459439'u64, 13492485681833334341'u64, 4972980977093161354'u64, 16893154314963072066'u64, 8652243230396188976'u64, 9779641530612667583'u64, 5097874465953004534'u64, 4951507269919408946'u64, 9812138100974125596'u64, 4434379852536876928'u64, 16894759623762848755'u64, 13332543147785640323'u64, 17612959281491639490'u64, 17336855956202548900'u64, 15806424317563851758'u64, 6989680508775651698'u64, 13742374056119565188'u64, 11297346306653008854'u64, 3404883993802537814'u64, 3807998276140164808'u64, 14215413752098233445'u64, 8794905022390816663'u64, 13551999599441880447'u64, 2804884029226355263'u64, 12965003871358119565'u64, 10706083322385747829'u64, 3641176797360746438'u64, 17683960268536506350'u64, 14819299910467191700'u64, 13443434553664136886'u64, 11357836086219007325'u64, 12628833801043915334'u64, 2050657258123060510'u64, 14462125203161780193'u64, 863357750432702173'u64, 7482396217660824339'u64, 585322596915808296'u64, 13113705928243556692'u64, 10029449836560834416'u64, 12922403586639890171'u64, 14538794053873942133'u64, 12888063820566802880'u64, 4365478625974779207'u64, 17761455859895157032'u64, 17921202217611253173'u64, 8819593641935802740'u64, 14914037312874276887'u64, 14778343229253469339'u64, 3590864276898483978'u64, 17360935423341357913'u64, 8998305415981204613'u64, 3965152652449159930'u64, 11793301924992590805'u64, 3845466006081469168'u64, 13043116574272761084'u64], [7935655927478690299'u64, 5668202586356653479'u64, 7833962227950246719'u64, 6892174988995269449'u64, 17431646647772286955'u64, 7160841064522659126'u64, 13529260885537255560'u64, 12683749327620765203'u64, 3943462855750217687'u64, 6472314022198554433'u64, 11134060465801326944'u64, 4877637879749273504'u64, 17157765888682861315'u64, 8951222050654012174'u64, 10066741508549138729'u64, 12284038155890293881'u64, 13381722343053392029'u64, 4601956909374790156'u64, 8366723344512662172'u64, 4433113698994108446'u64, 9403528847129962071'u64, 17328098606686911968'u64, 2630058611910020480'u64, 5248101780696328490'u64, 4661465678166738841'u64, 3126805912238595481'u64, 6268898398919924102'u64, 7405047437385415961'u64, 3873345024895301091'u64, 4714366372262044702'u64, 4385048019111275029'u64, 3956711635240855017'u64, 15415821473898059330'u64, 2030117155736050642'u64, 9333968935164859874'u64, 9221695353846524998'u64, 7353296909361435844'u64, 4935486000402911200'u64, 16889476431666731013'u64, 13517531861340061404'u64, 11254133357818391892'u64, 5594080122530145582'u64, 1705062675524028591'u64, 14904086755026330992'u64, 1784840929138218268'u64, 256732643949655417'u64, 9950163269744354183'u64, 8271009792804627475'u64, 8029529997545925842'u64, 15132786020283531037'u64, 763591258359017343'u64, 1928169170357157050'u64, 8014069857025058994'u64, 11169251647786939175'u64, 13560725853937907721'u64, 17623221644492747677'u64, 6082778963887731688'u64, 9744334462597510431'u64, 52172216631844557'u64, 13781835628687318936'u64, 6566716276089564446'u64, 4514706342854900605'u64, 18364105584913945760'u64, 3411928337229105199'u64], [18350132793661780429'u64, 5267030089647026345'u64, 6745753181480280278'u64, 1277396855847466942'u64, 14877548954325614116'u64, 2934158963853231424'u64, 3434538804284085502'u64, 17373146781471690633'u64, 14154319024881729616'u64, 277331747115972468'u64, 6631726103417124247'u64, 28815353163909675'u64, 16010930344580517312'u64, 9808453096408495679'u64, 8425098407842550926'u64, 18052314370205292684'u64, 17307712257235525920'u64, 13226213391709932891'u64, 16235330279431753637'u64, 1262366228168760090'u64, 3780537098938376548'u64, 9177519392007461275'u64, 15941192631166985798'u64, 15636511542759380715'u64, 13780171504691973881'u64, 3998524809080281521'u64, 9624417275527828007'u64, 16248128769113555675'u64, 2840636447628549677'u64, 3697601734404541661'u64, 2528943652436025033'u64, 1680385349058452320'u64, 1948756209987617177'u64, 1909576371330285480'u64, 2196075035922706305'u64, 4207026220598309422'u64, 10931292163296555642'u64, 13740484514646862909'u64, 10033656980004593340'u64, 15078299840555521767'u64, 15176372537732405299'u64, 14359667551473353625'u64, 12470084272946594040'u64, 12848106622013053063'u64, 17364230466614497132'u64, 947220094995491930'u64, 15288935758861843824'u64, 11932905668256460041'u64, 6429713888955160308'u64, 14537773962025643205'u64, 16759110730421070642'u64, 11242664045261713714'u64, 610127959535195946'u64, 2513193164118430961'u64, 3615245996896284581'u64, 16405606385167572039'u64, 8305734893211579937'u64, 13511639044658575983'u64, 5889015817977267088'u64, 7202823965071893839'u64, 7728238708959202261'u64, 14972405118575418682'u64, 15340902914153269044'u64, 16273099148949182105'u64], [12002211153203538102'u64, 17525366793350217037'u64, 9926700526963257152'u64, 4268614813243689139'u64, 4854723226984478423'u64, 15477353228498884714'u64, 17468016922846675385'u64, 5856574950820595042'u64, 17271516802948695800'u64, 16000667216372040673'u64, 16578354544827171485'u64, 15205732025691616526'u64, 10557562548749095844'u64, 9209394687551848216'u64, 18213688569342158599'u64, 7320349519772521969'u64, 12991964040768490778'u64, 8680958078434681961'u64, 3676207663479539629'u64, 13635606052448519250'u64, 5147469650694872422'u64, 13248024222490169539'u64, 8838840127511874167'u64, 738264765313728784'u64, 16993727287288362591'u64, 2376108735271179554'u64, 12008780620038830886'u64, 1866531689624254097'u64, 8645169017593568318'u64, 6350321407720839823'u64, 17481170718534823096'u64, 16814006523180302238'u64, 1526070168543181905'u64, 15481482565298779533'u64, 15003397478321296881'u64, 15683706214581060646'u64, 9766685835870904718'u64, 1749685176836069185'u64, 4069050943558804648'u64, 16473295470098621204'u64, 430523880946960326'u64, 10884830270107937338'u64, 3762943578192337051'u64, 728758134694448307'u64, 18267351062059778125'u64, 6277909827634892093'u64, 12105741143339305394'u64, 6923356356583617548'u64, 3377373943723357695'u64, 2000480139276122257'u64, 10532032420706334488'u64, 705220707239802240'u64, 13548283186389763304'u64, 10587385260037060033'u64, 10771929959826060408'u64, 13154248921778167409'u64, 6475280526848101351'u64, 16538597397957692891'u64, 2151421506353270793'u64, 2889495940760539817'u64, 14029359794304626871'u64, 10013816923006792484'u64, 17730216483969176837'u64, 7321108804788291135'u64]], [[6229921080417472311'u64, 331834019436288516'u64, 4919406084028846208'u64, 15774397769442514340'u64, 7673443041000079250'u64, 13285127832432935506'u64, 16364887395110372408'u64, 65179284883102285'u64, 8625344921849391093'u64, 6170722840234947760'u64, 365946477991081250'u64, 4304457336271544994'u64, 12691061992218043642'u64, 2597291976401519603'u64, 81767636207087768'u64, 8296942230947855120'u64, 551956478740269498'u64, 10523246556027601250'u64, 8846654579260474973'u64, 4998246359060092215'u64, 12106266133122928389'u64, 2929515060739928576'u64, 2752322975556004979'u64, 2544170558857993501'u64, 15778973276466053361'u64, 4903085639763015376'u64, 18073773969053215371'u64, 12270923884436172361'u64, 12171150463960974530'u64, 15030925137858221042'u64, 9201865441794592685'u64, 2540815581924130637'u64, 11353514641230873048'u64, 6131801411931269897'u64, 3446001374355101498'u64, 1454693729396173149'u64, 1104929861925413950'u64, 10210667133323293200'u64, 3283149884996132172'u64, 1191408487232204113'u64, 344327835945562238'u64, 13573915464643309192'u64, 12761369264195872197'u64, 13711509959025748944'u64, 6536210191383057674'u64, 17576589425433952912'u64, 7925834174727252935'u64, 6853693768923554954'u64, 2446407083397946065'u64, 2421057294245713967'u64, 15807404743281105767'u64, 6310708143474930269'u64, 14646488742187851509'u64, 15390479447526263870'u64, 3967720150336782296'u64, 18152727070907180872'u64, 2364139455333469819'u64, 17926180122479371665'u64, 13646336115216991863'u64, 7505195812299761372'u64, 9328754219927027531'u64, 6499424399960510372'u64, 18182384043155107197'u64, 2858646970946446502'u64], [7459106853724584231'u64, 13339323935106382326'u64, 10386661513976958950'u64, 1503084518711666997'u64, 14845068781330576553'u64, 6778958129489037056'u64, 2498690699419795658'u64, 16649161324195495040'u64, 13270764462679975684'u64, 4706430566722378154'u64, 9985824818899773170'u64, 11724002954090254285'u64, 10270587698757354114'u64, 7066844718562424474'u64, 14368202928142282174'u64, 15457809319276075507'u64, 11240714167938293796'u64, 16661369564941307723'u64, 4464287585321200540'u64, 10929026926367622245'u64, 3007673535080357423'u64, 10793316994774815438'u64, 17954133845302328466'u64, 12512923885819651615'u64, 13355141912730750661'u64, 4836446560930744110'u64, 12563357196188721065'u64, 15847871150738588223'u64, 10419189988036304549'u64, 16173941037862915168'u64, 4069002222533631876'u64, 18303579628738035308'u64, 13894084059094870399'u64, 9204608829869392340'u64, 9102485678735987080'u64, 17487343396476416497'u64, 16693197545192989702'u64, 9613009118461379711'u64, 3099777811638806072'u64, 3307316921703239504'u64, 10722263206213364221'u64, 12331871333569904946'u64, 11415219124386352350'u64, 10930864535490760733'u64, 17380827724059090400'u64, 11325655877616046642'u64, 13985356834180278859'u64, 17080919060361628236'u64, 2225234961149555412'u64, 9457105047360272107'u64, 668913354306000190'u64, 7860268442757630615'u64, 7572262778364819417'u64, 3067915762236030721'u64, 15474423200236450183'u64, 8353578133418417741'u64, 7041340521061105122'u64, 2700877335428821539'u64, 16947186689245181287'u64, 14700382843470575385'u64, 11759726966994361968'u64, 10694767296081387110'u64, 11253956728736932226'u64, 8756624979292241901'u64], [3719302096471943226'u64, 14039056914923197381'u64, 15395807947126315737'u64, 10621267367896694350'u64, 2326879478705467157'u64, 7314534806215007372'u64, 16365365466721258831'u64, 11891186182003330205'u64, 12866125668445955457'u64, 12340950824360645267'u64, 17973189541892693574'u64, 12434301540153703708'u64, 4101799427649758335'u64, 10350228169825094832'u64, 2182015399622126956'u64, 15468060764134186222'u64, 1062068773257872340'u64, 15535717327818820161'u64, 12506182115157314810'u64, 2506689959342680970'u64, 9087781830342205584'u64, 9582554180018213748'u64, 11920656694496923100'u64, 6060900850697940146'u64, 14627024886014295991'u64, 10422076803131921513'u64, 3855574355023088129'u64, 7964957924669475690'u64, 7695510015310482530'u64, 4479330071819583443'u64, 9590383696664668127'u64, 9499311995786879231'u64, 5648209811557680105'u64, 16087020909129611148'u64, 4971685345693095257'u64, 1070965542684519048'u64, 6169799346815428090'u64, 17356970317694643660'u64, 2723816936570370712'u64, 4201453418360367171'u64, 13439093298181641336'u64, 15799728586620058216'u64, 7971107399677291049'u64, 2712946224110829671'u64, 3297012092421659853'u64, 2903740460019894046'u64, 10340980468005863335'u64, 8459159338829613824'u64, 623560722372214024'u64, 4578379003428754782'u64, 9175281581074758180'u64, 6024438886455717902'u64, 612142397700287493'u64, 9785206281304634617'u64, 4888907818188807612'u64, 4978240612107852108'u64, 5888468229145560547'u64, 3290951396690680770'u64, 7423501922709502302'u64, 10007498285338827224'u64, 5538033389419779368'u64, 259369269082123065'u64, 11951837535456073417'u64, 14797183367425679093'u64], [10759966043571331873'u64, 17997544123475303164'u64, 12227804765347944332'u64, 8215859815869686787'u64, 15606191648557896093'u64, 12033272978039098083'u64, 919431424393924596'u64, 17255250337849413214'u64, 518609026454364797'u64, 12800995466552825854'u64, 527108958307664036'u64, 4543804921939186154'u64, 9598822690294809275'u64, 4249800423757843006'u64, 14602513086868183576'u64, 4165411844950207471'u64, 10394848572079324259'u64, 10665728030948308361'u64, 7489298236327083767'u64, 2368740772885433848'u64, 3921744943675755292'u64, 4544021101977921308'u64, 18383690724281412307'u64, 7275435558189661797'u64, 5363898715757940212'u64, 10314156971448689260'u64, 12603377721419841291'u64, 12180791378853496391'u64, 1322386899081007292'u64, 4243727036226525899'u64, 2461482060491914632'u64, 9476398578909575208'u64, 1402655438764061268'u64, 14930578418191085863'u64, 13646072572933377819'u64, 17746641775227028058'u64, 3866836956344724214'u64, 3947177586646637744'u64, 1484715133282673770'u64, 9770102954933171839'u64, 18097994605641300461'u64, 13022965165586046873'u64, 5166598280285558418'u64, 5047414034637996472'u64, 12408616189658927292'u64, 3569043130605415952'u64, 6479581427918161984'u64, 13964920875700884448'u64, 14518913957142662330'u64, 9602457487684137163'u64, 16470886808253701231'u64, 9261828541769815076'u64, 8406503427613906524'u64, 9018666788471390899'u64, 4209338803968493590'u64, 10659979809537566614'u64, 7935805703426197070'u64, 1879221819390242591'u64, 1893767367708088925'u64, 862296014252668328'u64, 321696869146518047'u64, 12559868825503359821'u64, 14391124328970150047'u64, 15690065042232607186'u64], [10542533148861786543'u64, 10233377827752631106'u64, 700246883875744227'u64, 15179718192649785799'u64, 12534492769010392862'u64, 2213228617618649647'u64, 6723273899470774221'u64, 9226400339363494425'u64, 13681631103989400654'u64, 18179505675675000986'u64, 11131179850463476036'u64, 4332986043103063575'u64, 16669436325379984030'u64, 15396445172286449673'u64, 10989635857138018345'u64, 10375031084500240617'u64, 6557463156562868682'u64, 18418737842073654173'u64, 3951753041990442284'u64, 781700751139378707'u64, 10758661355245802227'u64, 5952396328456298518'u64, 9078076550848728450'u64, 9694869914249072447'u64, 6048712461295329343'u64, 14123920337411930772'u64, 11087643105820337115'u64, 8539873686791323156'u64, 6465409614192748030'u64, 14948557564643758806'u64, 10219420535973336639'u64, 1366065603435901457'u64, 3112980679661279636'u64, 15628121595964564910'u64, 16951020665195406750'u64, 7271693588957786231'u64, 3847302928922724171'u64, 10529233632406457860'u64, 16572154509241871066'u64, 660471805205502738'u64, 3195997582835110894'u64, 7111893218273386695'u64, 6126867676050174002'u64, 829551556259499182'u64, 17549340013225566976'u64, 15705006026019301348'u64, 14433063655898835181'u64, 16754911868929464652'u64, 8424676474290161916'u64, 8453537770348810153'u64, 2855144791510629380'u64, 9414168248796376308'u64, 1450098563341493126'u64, 14333384718905926995'u64, 13039050216365704218'u64, 12797731228645637907'u64, 14647840395387164470'u64, 17051230356665626505'u64, 2350130628144714996'u64, 301657739895057253'u64, 8587053562499684076'u64, 6234223600074170081'u64, 2812508857605983588'u64, 10933111699664251767'u64], [4581679031791077405'u64, 11935601634611680509'u64, 15065132625253075287'u64, 13538616968808962234'u64, 16606970911342402025'u64, 13349838816547080373'u64, 8760189344888844579'u64, 14442286469451664445'u64, 10925310891958491692'u64, 2872779171400013824'u64, 16000408804186739397'u64, 9815052896413073449'u64, 10334278276493077379'u64, 11852557614688748111'u64, 4352220837194137822'u64, 14339462481182394348'u64, 2553775009923617653'u64, 17862256076573911379'u64, 13205140238764155657'u64, 4014016056379115432'u64, 16075072419502012823'u64, 9416682504984060267'u64, 5066320423081834754'u64, 14723438563554514441'u64, 3477707859293711892'u64, 17554399632625883128'u64, 10206489589822024311'u64, 148927273853599338'u64, 5543870518950597584'u64, 9045418612250023725'u64, 5674006414311578820'u64, 12021510694887054560'u64, 9457326346198864330'u64, 9882256174657664162'u64, 1854724052948885050'u64, 6440720709344178578'u64, 12117196554012974755'u64, 9498412632775198603'u64, 3138210721019559221'u64, 16491145431768367188'u64, 15147059470299425793'u64, 4341967597371295948'u64, 11491322855035816848'u64, 1166733238843713422'u64, 9642373831384486774'u64, 6538185936919413958'u64, 13578422255243969718'u64, 9482480920198623597'u64, 15965371969242109980'u64, 2944272737787371928'u64, 9194376222580996051'u64, 12687297375648288433'u64, 18066505749155643171'u64, 4904174038561233566'u64, 7934538714149319651'u64, 1334668318525960012'u64, 9303609276332770762'u64, 9791221740568096952'u64, 8584880319036730349'u64, 17915595332076055205'u64, 2815703669056114869'u64, 6995786334372208653'u64, 508245614619415653'u64, 12376992416816524938'u64]]]
